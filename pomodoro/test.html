<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Widget Test - StreamElements Simulation</title>
    <link rel="stylesheet" href="./pomodoro.css">
</head>
<body>
    <div class="container">
        <div class="timer-widget">
            <div class="timer-display">
                <div class="time-section">
                    <div class="time-card">
                        <span class="time-number">2</span>
                        <span class="time-number">5</span>
                    </div>
                </div>
                <div class="time-section">
                    <div class="time-card">
                        <span class="time-number">0</span>
                        <span class="time-number">0</span>
                    </div>
                </div>
                <div class="play-button">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
                        <path d="M8 5V19L19 12L8 5Z" fill="white" />
                    </svg>
                </div>
            </div>
        </div>
        <h1 class="title">Pomodoro Timer</h1>
    </div>

    <!-- Simulate StreamElements field data -->
    <script>
        // Simulate StreamElements obj.detail.fieldData
        window.obj = {
            detail: {
                fieldData: {
                    bgColor: "#9F7AEA",
                    bgGradientEnd: "#667EEA",
                    cardColor: "#2D3748",
                    cardBorderColor: "#F6E05E",
                    timerCardStart: "#48BB78",
                    timerCardEnd: "#38A169",
                    playBtnColor: "#ED8936",
                    playBtnIconColor: "#FFFFFF",
                    timerTextColor: "#FFFFFF",
                    titleTextColor: "#1A202C"
                }
            }
        };
    </script>

    <script type="module" src="./pomodoro.js"></script>

    <!-- Test Controls -->
    <div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: white; padding: 15px; border-radius: 8px; font-family: Arial;">
        <h4>Test StreamElements Integration</h4>
        <p>Custom colors applied from simulated fieldData</p>
        <button onclick="testCommand('!start')" style="margin: 5px; padding: 8px 12px; background: #48BB78; color: white; border: none; border-radius: 4px; cursor: pointer;">Test !start</button>
        <button onclick="testCommand('!pause')" style="margin: 5px; padding: 8px 12px; background: #ED8936; color: white; border: none; border-radius: 4px; cursor: pointer;">Test !pause</button>
        <button onclick="testCommand('!reset')" style="margin: 5px; padding: 8px 12px; background: #E53E3E; color: white; border: none; border-radius: 4px; cursor: pointer;">Test !reset</button>
    </div>

    <script>
        function testCommand(command) {
            if (window.pomodoroTimer) {
                window.pomodoroTimer.handleCommand({ message: command });
            }
        }
    </script>
</body>
</html>
